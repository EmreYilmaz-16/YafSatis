function openShipList(){var e=document.getElementById("Addcompany_id").value;e.length>0?openBoxDraggable("index.cfm?fuseaction=objects.emptypopup_hrz_pbs_smartTools&ListType=getWessels&CustomerId="+e):alert("Müşteri Seçmediniz")}function getOfferCurrencies(e){$.ajax({url:ServiceUri+"/OfferService.cfc?method=getOfferCurrencies",success:function(t){var n=JSON.parse(t);console.log(n),$(e).html("");for(let t=0;t<n.length;t++){var r=document.createElement("option");r.value=n[t].OFFER_CURRENCY_ID,r.innerText=n[t].OFFER_CURRENCY,e.appendChild(r)}}})}function getDeliveryPlaces(e){$.ajax({url:ServiceUri+"/OfferService.cfc?method=getDeliveryPlaces",success:function(t){var n=JSON.parse(t);console.log(n),$(e).html("");for(let t=0;t<n.length;t++){var r=document.createElement("option");r.value=n[t].DELIVERY_PLACE_ID,r.innerText=n[t].DELIVERY_PLACE,e.appendChild(r)}}})}function getOfferConditions(e){$.ajax({url:ServiceUri+"/OfferService.cfc?method=getOfferConditions",success:function(t){var n=JSON.parse(t);console.log(n),$(e).html("");for(let t=0;t<n.length;t++){var r=document.createElement("option");r.value=n[t].ID,r.innerText=n[t].CONDITION,e.appendChild(r)}}})}function getShipMethods(e){$.ajax({url:ServiceUri+"/OfferService.cfc?method=getShipMethods",success:function(t){var n=JSON.parse(t);console.log(n),$(e).html("");for(let t=0;t<n.length;t++){var r=document.createElement("option");r.value=n[t].SHIP_METHOD_ID,r.innerText=n[t].SHIP_METHOD,e.appendChild(r)}}})}function getMoney(e){$.ajax({url:ServiceUri+"/OfferService.cfc?method=getOfferMoney",success:function(t){var n=JSON.parse(t);console.log(n),$(e).html("");var r=document.createElement("option");r.value="",r.innerText="Seçiniz",e.appendChild(r);for(let t=0;t<n.length;t++){r=document.createElement("option");r.value=n[t].MONEY,r.innerText=n[t].MONEY,e.appendChild(r),MoneyArr.push(n[t])}$("#rate1").val(1),$("#rate2").val(1)}})}function setMoney(e){var t=MoneyArr.findIndex(t=>t.MONEY==e.value);$("#rate1").val(MoneyArr[t].RATE1),$("#rate2").val(MoneyArr[t].RATE2),$("#selected_money").val(MoneyArr[t].MONEY)}function getOfferPriorities(e){$.ajax({url:ServiceUri+"/OfferService.cfc?method=getOfferPriorities",success:function(t){var n=JSON.parse(t);console.log(n),$(e).html("");for(let t=0;t<n.length;t++){var r=document.createElement("option");r.value=n[t].PRIORITY_ID,r.innerText=n[t].PRIORITY,e.appendChild(r)}}})}function SaveOfferHeader(){var e=$("#OFFER_CURRENCY").val(),t=$("#Addcompany_id").val(),n=$("#Addcompany").val(),r=$("#ship_name").val(),a=$("#ship_id").val(),o=$("#TW").val(),l=$("#AddRefNo").val(),i=$("#start_date").val(),c=$("#SHIP_METHOD_ID").val(),E=document.getElementById("SHIP_METHOD_ID").options.selectedIndex,d=document.getElementById("SHIP_METHOD_ID").options[E].innerText,v=$("#PRIORITY").val(),O=$("#validDay").val(),f=$("#validtyDate").val(),s=$("#DELIVERY_PLACE").val(),R=$("#DELIVERY_ADDRESS").val(),I=$("#delivery_date").val(),_=$("#DVTime").val(),u=$("#MONEY").val();0==u.length&&$("#Money");var S=$("#OFFER_CONDITION").val(),m=$("#OfferDetail").val(),D=$("#PROPERTY1").val(),p=$("#PROPERTY2").val(),T=$("#PROPERTY3").val(),P=$("#PROPERTY4").val(),A=$("#selected_money").val(),g=$("#rate1").val(),M=$("#rate2").val(),Y=$("#ACTIVECOMPANY").val(),h=$("#SALES_EMP_ID").val(),C=$("#SALES_EMP").val(),N={OFFER_CURRENCY:e,COMPANY_ID:t,COMPANY_NAME:n,SHIP_NAME:r,SHIP_ID:a,TRANSIT_WAREHOUSE:o,REF_NO:l,OFFER_DATE:i,SHIP_METHOD_ID:c,SHIP_METHOD:d,PRIORITY:v,VALID_DAYS:O,VALID_DATE:f,DELIVERY_PLACE:s,DELIVERY_ADDRESS:R,DELIVERY_DATE:I,DELIVERY_TYIME:_,MONEY:u,OFFER_CONDITION:S,OFFER_DETAIL:m,PROPERTY1:D,PROPERTY2:p,PROPERTY3:T,PROPERTY4:P,KURLAR:MONEY_ARR,OFFER_MONEY:A,DATA_SOURCES:DataSources,RATE1:g,RATE2:M,ACTIVECOMPANY:Y,SALES_EMP_ID:h,SALES_EMP:C};$.ajax({url:ServiceUri+"/OfferService.cfc?method=SaveOfferHeader",data:{Fdata:JSON.stringify(N)},success:function(e){console.log("Kaydettim");var t=JSON.parse(e);1==t.STATUS&&(window.location.href="/index.cfm?fuseaction=sale.emptypopup_hrz_pbs_sayfa3&offer_id="+t.OFFER_ID)}})}var ServiceUri="/AddOns/YafSatis/Partner/cfc";$(document).ready(function(){var e=document.getElementById("OFFER_CURRENCY"),t=document.getElementById("MONEY"),n=document.getElementById("PRIORITY"),r=document.getElementById("DELIVERY_PLACE"),a=document.getElementById("SHIP_METHOD_ID"),o=document.getElementById("OFFER_CONDITION");getOfferCurrencies(e),getMoney(t),getOfferPriorities(n),getDeliveryPlaces(r),getShipMethods(a),getOfferConditions(o)});var MoneyArr=[];